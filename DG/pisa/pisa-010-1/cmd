intersect A1 A2
write D1
replace D1 A3 A4 A5
write D2
replace D2 A6 A7 A8
write D3
intersect D3 A9
write D4
concate D4 A10
write D5
intersect D5 A11
write D6
contains D6 A12
write beforeaddpred
addpred
write sink
isempty beforeaddpred