intersect A1 A2
write D1
addlen D1 0
write D2
intersect A3 A4
write D3
suffixof_smt D2 D3
addpred pred
write sink